/*
 * Copyright (C) 2024 koalium
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * as published by the Free Software Foundation; either version 2
 * of the License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
 */
package main;

import com.fazecast.jSerialComm.*;
import java.awt.Color;
import java.awt.Graphics;
import java.util.Arrays;




import java.util.Timer;
import java.util.TimerTask;
import java.util.Vector;
import javax.swing.*;
import javax.swing.JRadioButtonMenuItem;

/**
 *
 * @author koalium
 */
public class Formium extends javax.swing.JFrame {

	private static final long serialVersionUID = 1L;

	/**
	 * Creates new form Formium
	 */
	public Formium() {
		bufferChars = new StringBuffer() ;
		
		strArray = new Vector();
		mrdt= new Vector();
		rremained=100;

		initComponents();
		refreshPorts();
		
		timi();
	}

	/**
	 * This method is called from within the constructor to initialize the
	 * form. WARNING: Do NOT modify this code. The content of this method is
	 * always regenerated by the Form Editor.
	 */
	@SuppressWarnings("unchecked")
        // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
        private void initComponents() {

                jPopupMenuPorts = new javax.swing.JPopupMenu();
                buttonGroupDepend = new javax.swing.ButtonGroup();
                jPanel1 = new javax.swing.JPanel();
                jPanel2 = new javax.swing.JPanel();
                jPanelMonitor = new javax.swing.JPanel();
                jPanelMonitorPressure = new javax.swing.JPanel();
                jLabelMonitorPressure = new javax.swing.JLabel();
                jPanelMonitorHeghit = new javax.swing.JPanel();
                jLabelMonitorHeight = new javax.swing.JLabel();
                jPanelMonitorMid = new javax.swing.JPanel();
                jPanelMonitorMidUp = new javax.swing.JPanel();
                jProgressBarMonitorMotorPower = new javax.swing.JProgressBar();
                jLabelMonitorMotorPower = new javax.swing.JLabel();
                jPanelMonitorMidJob = new javax.swing.JPanel();
                jProgressBarJobDone = new javax.swing.JProgressBar();
                jLabelProgressJob = new javax.swing.JLabel();
                jPanelControl = new javax.swing.JPanel();
                jPanel13 = new javax.swing.JPanel();
                jPanel18 = new javax.swing.JPanel();
                jPanel14 = new javax.swing.JPanel();
                jScrollBarPwm = new javax.swing.JScrollBar();
                jLabelPwm = new javax.swing.JLabel();
                jPanel20 = new javax.swing.JPanel();
                jButtonPump = new javax.swing.JButton();
                jButtonPause = new javax.swing.JButton();
                jButtonDrain = new javax.swing.JButton();
                jToggleButtonPumping = new javax.swing.JToggleButton();
                jPanel21 = new javax.swing.JPanel();
                jPanelValve = new javax.swing.JPanel();
                jLabel1 = new javax.swing.JLabel();
                jPanel16 = new javax.swing.JPanel();
                jPanel17 = new javax.swing.JPanel();
                jPanel4 = new javax.swing.JPanel();
                jButtonRun = new javax.swing.JButton();
                jPanel6 = new javax.swing.JPanel();
                jButtonStop = new javax.swing.JButton();
                jPanel3 = new javax.swing.JPanel();
                jPanel11 = new javax.swing.JPanel();
                jFormattedTextFieldPressure = new javax.swing.JFormattedTextField();
                jRadioButtonPressure = new javax.swing.JRadioButton();
                jPanel12 = new javax.swing.JPanel();
                jFormattedTextFieldHeghit = new javax.swing.JFormattedTextField();
                jRadioButtonHeight = new javax.swing.JRadioButton();
                jPanel10 = new javax.swing.JPanel();
                jPanel19 = new javax.swing.JPanel();
                jPanel22 = new javax.swing.JPanel();
                jLabelWrite = new javax.swing.JLabel();
                jPanel23 = new javax.swing.JPanel();
                jLabelStatus = new javax.swing.JLabel();
                jPanel15 = new javax.swing.JPanel();
                jScrollPane1 = new javax.swing.JScrollPane();
                jTextAreaLogs = new javax.swing.JTextArea();
                menuBar = new javax.swing.JMenuBar();
                fileMenu = new javax.swing.JMenu();
                openMenuItem = new javax.swing.JMenuItem();
                saveMenuItem = new javax.swing.JMenuItem();
                saveAsMenuItem = new javax.swing.JMenuItem();
                exitMenuItem = new javax.swing.JMenuItem();
                MenuConnect = new javax.swing.JMenu();
                MenuItemCheckConnection = new javax.swing.JMenuItem();
                MenuItemRefresh = new javax.swing.JMenuItem();
                MenuItemConnect = new javax.swing.JMenuItem();
                MenuItemCloseConnection = new javax.swing.JMenuItem();
                jMenuPorts = new javax.swing.JMenu();
                helpMenu = new javax.swing.JMenu();
                contentsMenuItem = new javax.swing.JMenuItem();
                aboutMenuItem = new javax.swing.JMenuItem();

                setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
                setTitle("Forming Platform");
                setMaximumSize(new java.awt.Dimension(850, 1080));
                setMinimumSize(new java.awt.Dimension(820, 700));
                setSize(new java.awt.Dimension(804, 744));

                jPanel1.setBackground(new java.awt.Color(153, 153, 255));
                jPanel1.setForeground(new java.awt.Color(204, 204, 255));

                jPanel2.setBackground(new java.awt.Color(204, 204, 255));
                jPanel2.setForeground(new java.awt.Color(153, 204, 255));

                jPanelMonitor.setBackground(new java.awt.Color(153, 153, 255));
                jPanelMonitor.setBorder(javax.swing.BorderFactory.createCompoundBorder(javax.swing.BorderFactory.createTitledBorder(null, "Monitoring:", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Times New Roman", 1, 12), new java.awt.Color(0, 0, 0)), javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.LOWERED, java.awt.Color.gray, java.awt.Color.lightGray, java.awt.Color.darkGray, java.awt.Color.gray))); // NOI18N
                jPanelMonitor.setForeground(new java.awt.Color(153, 153, 255));

                jPanelMonitorPressure.setBackground(new java.awt.Color(153, 153, 255));
                jPanelMonitorPressure.setBorder(javax.swing.BorderFactory.createCompoundBorder(javax.swing.BorderFactory.createTitledBorder(null, "Pressure:", javax.swing.border.TitledBorder.CENTER, javax.swing.border.TitledBorder.BELOW_TOP, new java.awt.Font("Arial", 3, 12), new java.awt.Color(0, 0, 0)), javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED, new java.awt.Color(51, 102, 255), new java.awt.Color(102, 153, 255), new java.awt.Color(0, 51, 153), new java.awt.Color(0, 0, 255)))); // NOI18N
                jPanelMonitorPressure.setForeground(new java.awt.Color(153, 153, 255));

                jLabelMonitorPressure.setBackground(new java.awt.Color(153, 153, 255));
                jLabelMonitorPressure.setFont(new java.awt.Font("Arial Rounded MT Bold", 1, 24)); // NOI18N
                jLabelMonitorPressure.setForeground(new java.awt.Color(51, 0, 0));
                jLabelMonitorPressure.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
                jLabelMonitorPressure.setText("101.55");
                jLabelMonitorPressure.setBorder(javax.swing.BorderFactory.createEtchedBorder(java.awt.Color.pink, java.awt.Color.orange));

                javax.swing.GroupLayout jPanelMonitorPressureLayout = new javax.swing.GroupLayout(jPanelMonitorPressure);
                jPanelMonitorPressure.setLayout(jPanelMonitorPressureLayout);
                jPanelMonitorPressureLayout.setHorizontalGroup(
                        jPanelMonitorPressureLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanelMonitorPressureLayout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jLabelMonitorPressure, javax.swing.GroupLayout.DEFAULT_SIZE, 139, Short.MAX_VALUE)
                                .addContainerGap())
                );
                jPanelMonitorPressureLayout.setVerticalGroup(
                        jPanelMonitorPressureLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanelMonitorPressureLayout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jLabelMonitorPressure, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addContainerGap())
                );

                jPanelMonitorHeghit.setBackground(new java.awt.Color(153, 153, 255));
                jPanelMonitorHeghit.setBorder(javax.swing.BorderFactory.createCompoundBorder(javax.swing.BorderFactory.createTitledBorder(null, "Height:", javax.swing.border.TitledBorder.CENTER, javax.swing.border.TitledBorder.BELOW_TOP, new java.awt.Font("Arial", 3, 12), new java.awt.Color(0, 0, 0)), javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED, new java.awt.Color(51, 51, 255), new java.awt.Color(102, 102, 255), new java.awt.Color(0, 51, 102), new java.awt.Color(0, 0, 153)))); // NOI18N
                jPanelMonitorHeghit.setForeground(new java.awt.Color(153, 153, 255));

                jLabelMonitorHeight.setBackground(new java.awt.Color(153, 153, 255));
                jLabelMonitorHeight.setFont(new java.awt.Font("Arial Rounded MT Bold", 1, 24)); // NOI18N
                jLabelMonitorHeight.setForeground(new java.awt.Color(51, 0, 51));
                jLabelMonitorHeight.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
                jLabelMonitorHeight.setText("101.55");
                jLabelMonitorHeight.setBorder(javax.swing.BorderFactory.createEtchedBorder(java.awt.Color.orange, java.awt.Color.pink));

                javax.swing.GroupLayout jPanelMonitorHeghitLayout = new javax.swing.GroupLayout(jPanelMonitorHeghit);
                jPanelMonitorHeghit.setLayout(jPanelMonitorHeghitLayout);
                jPanelMonitorHeghitLayout.setHorizontalGroup(
                        jPanelMonitorHeghitLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanelMonitorHeghitLayout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jLabelMonitorHeight, javax.swing.GroupLayout.DEFAULT_SIZE, 139, Short.MAX_VALUE)
                                .addContainerGap())
                );
                jPanelMonitorHeghitLayout.setVerticalGroup(
                        jPanelMonitorHeghitLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanelMonitorHeghitLayout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jLabelMonitorHeight, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addContainerGap())
                );

                jPanelMonitorMid.setBackground(new java.awt.Color(153, 153, 255));
                jPanelMonitorMid.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
                jPanelMonitorMid.setForeground(new java.awt.Color(153, 153, 255));

                jPanelMonitorMidUp.setBackground(new java.awt.Color(153, 153, 255));
                jPanelMonitorMidUp.setBorder(javax.swing.BorderFactory.createCompoundBorder(javax.swing.BorderFactory.createTitledBorder(null, "motor", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Segoe UI", 1, 12), new java.awt.Color(0, 0, 0)), javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED))); // NOI18N

                jProgressBarMonitorMotorPower.setBackground(new java.awt.Color(153, 153, 153));
                jProgressBarMonitorMotorPower.setForeground(new java.awt.Color(51, 255, 0));

                jLabelMonitorMotorPower.setBackground(java.awt.SystemColor.activeCaption);
                jLabelMonitorMotorPower.setFont(new java.awt.Font("Arial Rounded MT Bold", 1, 14)); // NOI18N
                jLabelMonitorMotorPower.setForeground(new java.awt.Color(0, 0, 0));
                jLabelMonitorMotorPower.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
                jLabelMonitorMotorPower.setLabelFor(jProgressBarMonitorMotorPower);
                jLabelMonitorMotorPower.setText("88%");
                jLabelMonitorMotorPower.setBorder(javax.swing.BorderFactory.createEmptyBorder(1, 1, 1, 1));

                javax.swing.GroupLayout jPanelMonitorMidUpLayout = new javax.swing.GroupLayout(jPanelMonitorMidUp);
                jPanelMonitorMidUp.setLayout(jPanelMonitorMidUpLayout);
                jPanelMonitorMidUpLayout.setHorizontalGroup(
                        jPanelMonitorMidUpLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanelMonitorMidUpLayout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jProgressBarMonitorMotorPower, javax.swing.GroupLayout.PREFERRED_SIZE, 333, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jLabelMonitorMotorPower, javax.swing.GroupLayout.DEFAULT_SIZE, 43, Short.MAX_VALUE)
                                .addContainerGap())
                );
                jPanelMonitorMidUpLayout.setVerticalGroup(
                        jPanelMonitorMidUpLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanelMonitorMidUpLayout.createSequentialGroup()
                                .addContainerGap()
                                .addGroup(jPanelMonitorMidUpLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addComponent(jProgressBarMonitorMotorPower, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addComponent(jLabelMonitorMotorPower, javax.swing.GroupLayout.DEFAULT_SIZE, 37, Short.MAX_VALUE))
                                .addContainerGap())
                );

                jPanelMonitorMidJob.setBackground(new java.awt.Color(153, 153, 255));
                jPanelMonitorMidJob.setBorder(javax.swing.BorderFactory.createCompoundBorder(javax.swing.BorderFactory.createTitledBorder(null, "job", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Segoe UI", 1, 12), new java.awt.Color(0, 0, 0)), javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED))); // NOI18N

                jProgressBarJobDone.setBackground(new java.awt.Color(153, 153, 153));
                jProgressBarJobDone.setForeground(new java.awt.Color(153, 255, 255));
                jProgressBarJobDone.addChangeListener(new javax.swing.event.ChangeListener() {
                        public void stateChanged(javax.swing.event.ChangeEvent evt) {
                                jProgressBarJobDoneStateChanged(evt);
                        }
                });

                jLabelProgressJob.setBackground(java.awt.SystemColor.activeCaption);
                jLabelProgressJob.setFont(new java.awt.Font("Arial Rounded MT Bold", 3, 14)); // NOI18N
                jLabelProgressJob.setForeground(new java.awt.Color(0, 0, 0));
                jLabelProgressJob.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
                jLabelProgressJob.setText("66%");

                javax.swing.GroupLayout jPanelMonitorMidJobLayout = new javax.swing.GroupLayout(jPanelMonitorMidJob);
                jPanelMonitorMidJob.setLayout(jPanelMonitorMidJobLayout);
                jPanelMonitorMidJobLayout.setHorizontalGroup(
                        jPanelMonitorMidJobLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanelMonitorMidJobLayout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jProgressBarJobDone, javax.swing.GroupLayout.PREFERRED_SIZE, 333, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jLabelProgressJob, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addContainerGap())
                );
                jPanelMonitorMidJobLayout.setVerticalGroup(
                        jPanelMonitorMidJobLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanelMonitorMidJobLayout.createSequentialGroup()
                                .addContainerGap()
                                .addGroup(jPanelMonitorMidJobLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addComponent(jProgressBarJobDone, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addComponent(jLabelProgressJob, javax.swing.GroupLayout.DEFAULT_SIZE, 31, Short.MAX_VALUE))
                                .addContainerGap())
                );

                javax.swing.GroupLayout jPanelMonitorMidLayout = new javax.swing.GroupLayout(jPanelMonitorMid);
                jPanelMonitorMid.setLayout(jPanelMonitorMidLayout);
                jPanelMonitorMidLayout.setHorizontalGroup(
                        jPanelMonitorMidLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanelMonitorMidLayout.createSequentialGroup()
                                .addContainerGap()
                                .addGroup(jPanelMonitorMidLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                        .addComponent(jPanelMonitorMidUp, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addComponent(jPanelMonitorMidJob, javax.swing.GroupLayout.PREFERRED_SIZE, 408, Short.MAX_VALUE))
                                .addContainerGap(12, Short.MAX_VALUE))
                );
                jPanelMonitorMidLayout.setVerticalGroup(
                        jPanelMonitorMidLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanelMonitorMidLayout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jPanelMonitorMidUp, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(jPanelMonitorMidJob, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addContainerGap(14, Short.MAX_VALUE))
                );

                javax.swing.GroupLayout jPanelMonitorLayout = new javax.swing.GroupLayout(jPanelMonitor);
                jPanelMonitor.setLayout(jPanelMonitorLayout);
                jPanelMonitorLayout.setHorizontalGroup(
                        jPanelMonitorLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanelMonitorLayout.createSequentialGroup()
                                .addComponent(jPanelMonitorPressure, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(jPanelMonitorMid, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(jPanelMonitorHeghit, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                );
                jPanelMonitorLayout.setVerticalGroup(
                        jPanelMonitorLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanelMonitorLayout.createSequentialGroup()
                                .addContainerGap()
                                .addGroup(jPanelMonitorLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addGroup(jPanelMonitorLayout.createSequentialGroup()
                                                .addComponent(jPanelMonitorHeghit, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                                .addContainerGap())
                                        .addGroup(jPanelMonitorLayout.createSequentialGroup()
                                                .addGroup(jPanelMonitorLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                                        .addComponent(jPanelMonitorPressure, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                                        .addComponent(jPanelMonitorMid, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                                .addGap(0, 6, Short.MAX_VALUE))))
                );

                javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
                jPanel2.setLayout(jPanel2Layout);
                jPanel2Layout.setHorizontalGroup(
                        jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jPanelMonitor, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                );
                jPanel2Layout.setVerticalGroup(
                        jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jPanelMonitor, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                );

                jPanelControl.setBackground(new java.awt.Color(153, 153, 255));
                jPanelControl.setBorder(javax.swing.BorderFactory.createCompoundBorder(javax.swing.BorderFactory.createTitledBorder(null, "Control:", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Segoe UI", 1, 14), new java.awt.Color(0, 0, 0)), javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.LOWERED, java.awt.Color.gray, java.awt.Color.darkGray, java.awt.Color.gray, java.awt.Color.lightGray))); // NOI18N
                jPanelControl.setForeground(new java.awt.Color(204, 204, 255));

                jPanel13.setBackground(new java.awt.Color(153, 153, 255));
                jPanel13.setBorder(javax.swing.BorderFactory.createEtchedBorder());

                jPanel18.setBackground(new java.awt.Color(153, 153, 255));

                jPanel14.setBackground(new java.awt.Color(153, 153, 255));
                jPanel14.setBorder(javax.swing.BorderFactory.createCompoundBorder(javax.swing.BorderFactory.createTitledBorder(null, "Motor Power", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Segoe UI", 1, 12), java.awt.Color.black), javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED, java.awt.Color.darkGray, java.awt.Color.gray, java.awt.Color.gray, java.awt.Color.darkGray))); // NOI18N

                jScrollBarPwm.setBackground(new java.awt.Color(204, 255, 204));
                jScrollBarPwm.setForeground(new java.awt.Color(102, 204, 0));
                jScrollBarPwm.setMaximum(101);
                jScrollBarPwm.setOrientation(javax.swing.JScrollBar.HORIZONTAL);
                jScrollBarPwm.setToolTipText("");
                jScrollBarPwm.setUnitIncrement(4);
                jScrollBarPwm.setVisibleAmount(1);
                jScrollBarPwm.addAdjustmentListener(new java.awt.event.AdjustmentListener() {
                        public void adjustmentValueChanged(java.awt.event.AdjustmentEvent evt) {
                                jScrollBarPwmAdjustmentValueChanged(evt);
                        }
                });

                jLabelPwm.setFont(new java.awt.Font("Arial Rounded MT Bold", 3, 14)); // NOI18N
                jLabelPwm.setForeground(new java.awt.Color(0, 0, 0));
                jLabelPwm.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
                jLabelPwm.setText("0%");

                javax.swing.GroupLayout jPanel14Layout = new javax.swing.GroupLayout(jPanel14);
                jPanel14.setLayout(jPanel14Layout);
                jPanel14Layout.setHorizontalGroup(
                        jPanel14Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel14Layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jScrollBarPwm, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jLabelPwm, javax.swing.GroupLayout.PREFERRED_SIZE, 56, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addContainerGap())
                );
                jPanel14Layout.setVerticalGroup(
                        jPanel14Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel14Layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jScrollBarPwm, javax.swing.GroupLayout.DEFAULT_SIZE, 28, Short.MAX_VALUE)
                                .addGap(7, 7, 7))
                        .addComponent(jLabelPwm, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                );

                javax.swing.GroupLayout jPanel18Layout = new javax.swing.GroupLayout(jPanel18);
                jPanel18.setLayout(jPanel18Layout);
                jPanel18Layout.setHorizontalGroup(
                        jPanel18Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jPanel14, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                );
                jPanel18Layout.setVerticalGroup(
                        jPanel18Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel18Layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jPanel14, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addContainerGap())
                );

                jPanel20.setBackground(new java.awt.Color(153, 153, 255));
                jPanel20.setBorder(javax.swing.BorderFactory.createCompoundBorder(javax.swing.BorderFactory.createEtchedBorder(javax.swing.border.EtchedBorder.RAISED), javax.swing.BorderFactory.createCompoundBorder(javax.swing.BorderFactory.createEtchedBorder(), javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED))));

                jButtonPump.setBackground(new java.awt.Color(102, 255, 102));
                jButtonPump.setFont(new java.awt.Font("Times New Roman", 3, 18)); // NOI18N
                jButtonPump.setForeground(new java.awt.Color(0, 0, 0));
                jButtonPump.setText("Pump");
                jButtonPump.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                                jButtonPumpActionPerformed(evt);
                        }
                });

                jButtonPause.setBackground(new java.awt.Color(255, 255, 102));
                jButtonPause.setFont(new java.awt.Font("Times New Roman", 3, 18)); // NOI18N
                jButtonPause.setForeground(new java.awt.Color(0, 0, 0));
                jButtonPause.setText("Pause");
                jButtonPause.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                                jButtonPauseActionPerformed(evt);
                        }
                });

                jButtonDrain.setBackground(new java.awt.Color(255, 51, 51));
                jButtonDrain.setFont(new java.awt.Font("Times New Roman", 3, 18)); // NOI18N
                jButtonDrain.setForeground(new java.awt.Color(0, 0, 0));
                jButtonDrain.setText("Drain");
                jButtonDrain.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                                jButtonDrainActionPerformed(evt);
                        }
                });

                jToggleButtonPumping.setBackground(new java.awt.Color(255, 0, 255));
                jToggleButtonPumping.setFont(new java.awt.Font("Times New Roman", 3, 18)); // NOI18N
                jToggleButtonPumping.setForeground(new java.awt.Color(0, 0, 0));
                jToggleButtonPumping.setText("Pumping");
                jToggleButtonPumping.addItemListener(new java.awt.event.ItemListener() {
                        public void itemStateChanged(java.awt.event.ItemEvent evt) {
                                jToggleButtonPumpingItemStateChanged(evt);
                        }
                });
                jToggleButtonPumping.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                                jToggleButtonPumpingActionPerformed(evt);
                        }
                });

                javax.swing.GroupLayout jPanel20Layout = new javax.swing.GroupLayout(jPanel20);
                jPanel20.setLayout(jPanel20Layout);
                jPanel20Layout.setHorizontalGroup(
                        jPanel20Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel20Layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jButtonPump)
                                .addGap(18, 18, 18)
                                .addComponent(jButtonPause)
                                .addGap(18, 18, 18)
                                .addComponent(jButtonDrain)
                                .addGap(18, 18, 18)
                                .addComponent(jToggleButtonPumping)
                                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                );
                jPanel20Layout.setVerticalGroup(
                        jPanel20Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel20Layout.createSequentialGroup()
                                .addContainerGap()
                                .addGroup(jPanel20Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addComponent(jButtonPause, javax.swing.GroupLayout.DEFAULT_SIZE, 46, Short.MAX_VALUE)
                                        .addComponent(jButtonPump, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addComponent(jButtonDrain, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addComponent(jToggleButtonPumping, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                .addContainerGap())
                );

                jPanel21.setBackground(new java.awt.Color(153, 153, 255));
                jPanel21.setBorder(javax.swing.BorderFactory.createCompoundBorder(javax.swing.BorderFactory.createEtchedBorder(javax.swing.border.EtchedBorder.RAISED), javax.swing.BorderFactory.createCompoundBorder(javax.swing.BorderFactory.createCompoundBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED), javax.swing.BorderFactory.createEtchedBorder()), javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED))));

                jPanelValve.setBackground(new java.awt.Color(0, 153, 153));
                jPanelValve.setBorder(javax.swing.BorderFactory.createCompoundBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED), javax.swing.BorderFactory.createTitledBorder(null, "Drain Valve", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Segoe UI", 1, 14), new java.awt.Color(0, 0, 0)))); // NOI18N

                jLabel1.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
                jLabel1.setForeground(new java.awt.Color(0, 0, 0));
                jLabel1.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
                jLabel1.setText("Closed");

                javax.swing.GroupLayout jPanelValveLayout = new javax.swing.GroupLayout(jPanelValve);
                jPanelValve.setLayout(jPanelValveLayout);
                jPanelValveLayout.setHorizontalGroup(
                        jPanelValveLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jLabel1, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 182, Short.MAX_VALUE)
                );
                jPanelValveLayout.setVerticalGroup(
                        jPanelValveLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanelValveLayout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jLabel1)
                                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                );

                javax.swing.GroupLayout jPanel21Layout = new javax.swing.GroupLayout(jPanel21);
                jPanel21.setLayout(jPanel21Layout);
                jPanel21Layout.setHorizontalGroup(
                        jPanel21Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel21Layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jPanelValve, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                );
                jPanel21Layout.setVerticalGroup(
                        jPanel21Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel21Layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jPanelValve, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                );

                javax.swing.GroupLayout jPanel13Layout = new javax.swing.GroupLayout(jPanel13);
                jPanel13.setLayout(jPanel13Layout);
                jPanel13Layout.setHorizontalGroup(
                        jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel13Layout.createSequentialGroup()
                                .addContainerGap()
                                .addGroup(jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                        .addComponent(jPanel21, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addComponent(jPanel18, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addComponent(jPanel20, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                .addContainerGap())
                );
                jPanel13Layout.setVerticalGroup(
                        jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel13Layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jPanel18, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jPanel20, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jPanel21, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                );

                jPanel16.setBackground(new java.awt.Color(153, 153, 255));

                jPanel17.setBackground(new java.awt.Color(153, 153, 255));
                jPanel17.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.LOWERED, new java.awt.Color(0, 102, 102), new java.awt.Color(153, 153, 153), new java.awt.Color(102, 102, 0), new java.awt.Color(0, 102, 102)));

                jPanel4.setBackground(new java.awt.Color(153, 153, 255));
                jPanel4.setBorder(javax.swing.BorderFactory.createCompoundBorder(javax.swing.BorderFactory.createCompoundBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.LOWERED), javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED)), javax.swing.BorderFactory.createCompoundBorder(javax.swing.BorderFactory.createEtchedBorder(), javax.swing.BorderFactory.createEtchedBorder(javax.swing.border.EtchedBorder.RAISED))));

                jButtonRun.setBackground(new java.awt.Color(102, 255, 51));
                jButtonRun.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
                jButtonRun.setForeground(java.awt.Color.black);
                jButtonRun.setText("Run");
                jButtonRun.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                                jButtonRunActionPerformed(evt);
                        }
                });

                javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
                jPanel4.setLayout(jPanel4Layout);
                jPanel4Layout.setHorizontalGroup(
                        jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel4Layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jButtonRun, javax.swing.GroupLayout.DEFAULT_SIZE, 105, Short.MAX_VALUE)
                                .addContainerGap())
                );
                jPanel4Layout.setVerticalGroup(
                        jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel4Layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jButtonRun, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addContainerGap())
                );

                jPanel6.setBackground(new java.awt.Color(153, 153, 255));
                jPanel6.setBorder(javax.swing.BorderFactory.createCompoundBorder(javax.swing.BorderFactory.createCompoundBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.LOWERED), javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.LOWERED)), javax.swing.BorderFactory.createCompoundBorder(javax.swing.BorderFactory.createEtchedBorder(javax.swing.border.EtchedBorder.RAISED), javax.swing.BorderFactory.createEtchedBorder())));
                jPanel6.setPreferredSize(new java.awt.Dimension(120, 112));

                jButtonStop.setBackground(java.awt.Color.red);
                jButtonStop.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
                jButtonStop.setForeground(java.awt.Color.black);
                jButtonStop.setText("Stop");
                jButtonStop.setPreferredSize(new java.awt.Dimension(92, 84));
                jButtonStop.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                                jButtonStopActionPerformed(evt);
                        }
                });

                javax.swing.GroupLayout jPanel6Layout = new javax.swing.GroupLayout(jPanel6);
                jPanel6.setLayout(jPanel6Layout);
                jPanel6Layout.setHorizontalGroup(
                        jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel6Layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jButtonStop, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addContainerGap())
                );
                jPanel6Layout.setVerticalGroup(
                        jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel6Layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jButtonStop, javax.swing.GroupLayout.PREFERRED_SIZE, 84, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addContainerGap())
                );

                javax.swing.GroupLayout jPanel17Layout = new javax.swing.GroupLayout(jPanel17);
                jPanel17.setLayout(jPanel17Layout);
                jPanel17Layout.setHorizontalGroup(
                        jPanel17Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel17Layout.createSequentialGroup()
                                .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jPanel6, javax.swing.GroupLayout.DEFAULT_SIZE, 140, Short.MAX_VALUE)
                                .addContainerGap())
                );
                jPanel17Layout.setVerticalGroup(
                        jPanel17Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jPanel4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(jPanel6, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                );

                jPanel3.setBackground(new java.awt.Color(153, 153, 255));

                jPanel11.setBackground(new java.awt.Color(153, 153, 255));
                jPanel11.setBorder(javax.swing.BorderFactory.createCompoundBorder(javax.swing.BorderFactory.createTitledBorder(null, "Pressure", javax.swing.border.TitledBorder.LEFT, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Segoe UI", 1, 12), new java.awt.Color(0, 0, 0)), javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED))); // NOI18N
                jPanel11.setForeground(new java.awt.Color(153, 153, 255));

                jFormattedTextFieldPressure.setBackground(new java.awt.Color(102, 102, 102));
                jFormattedTextFieldPressure.setColumns(6);
                jFormattedTextFieldPressure.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#0.00"))));
                jFormattedTextFieldPressure.setHorizontalAlignment(javax.swing.JTextField.CENTER);
                jFormattedTextFieldPressure.setFont(new java.awt.Font("Times New Roman", 0, 18)); // NOI18N
                jFormattedTextFieldPressure.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                                jFormattedTextFieldPressureActionPerformed(evt);
                        }
                });

                jRadioButtonPressure.setBackground(new java.awt.Color(153, 153, 255));
                buttonGroupDepend.add(jRadioButtonPressure);
                jRadioButtonPressure.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
                jRadioButtonPressure.setForeground(new java.awt.Color(0, 0, 0));
                jRadioButtonPressure.setSelected(true);
                jRadioButtonPressure.setText("pressure");
                jRadioButtonPressure.setDebugGraphicsOptions(javax.swing.DebugGraphics.NONE_OPTION);
                jRadioButtonPressure.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
                jRadioButtonPressure.setHorizontalTextPosition(javax.swing.SwingConstants.LEADING);
                jRadioButtonPressure.setIconTextGap(5);
                jRadioButtonPressure.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                                jRadioButtonPressureActionPerformed(evt);
                        }
                });

                javax.swing.GroupLayout jPanel11Layout = new javax.swing.GroupLayout(jPanel11);
                jPanel11.setLayout(jPanel11Layout);
                jPanel11Layout.setHorizontalGroup(
                        jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel11Layout.createSequentialGroup()
                                .addContainerGap()
                                .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addComponent(jRadioButtonPressure, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addComponent(jFormattedTextFieldPressure, javax.swing.GroupLayout.DEFAULT_SIZE, 110, Short.MAX_VALUE))
                                .addContainerGap())
                );
                jPanel11Layout.setVerticalGroup(
                        jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel11Layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jFormattedTextFieldPressure, javax.swing.GroupLayout.PREFERRED_SIZE, 33, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jRadioButtonPressure)
                                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                );

                jPanel12.setBackground(new java.awt.Color(153, 153, 255));
                jPanel12.setBorder(javax.swing.BorderFactory.createCompoundBorder(javax.swing.BorderFactory.createTitledBorder(null, "Height", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Segoe UI", 1, 12), new java.awt.Color(0, 0, 0)), javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED))); // NOI18N

                jFormattedTextFieldHeghit.setBackground(new java.awt.Color(102, 102, 102));
                jFormattedTextFieldHeghit.setColumns(5);
                jFormattedTextFieldHeghit.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#0.00"))));
                jFormattedTextFieldHeghit.setHorizontalAlignment(javax.swing.JTextField.CENTER);
                jFormattedTextFieldHeghit.setCursor(new java.awt.Cursor(java.awt.Cursor.TEXT_CURSOR));
                jFormattedTextFieldHeghit.setFont(new java.awt.Font("Times New Roman", 0, 18)); // NOI18N
                jFormattedTextFieldHeghit.setPreferredSize(new java.awt.Dimension(98, 27));
                jFormattedTextFieldHeghit.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                                jFormattedTextFieldHeghitActionPerformed(evt);
                        }
                });

                jRadioButtonHeight.setBackground(new java.awt.Color(153, 153, 255));
                jRadioButtonHeight.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
                jRadioButtonHeight.setForeground(new java.awt.Color(0, 0, 0));
                jRadioButtonHeight.setText("height");
                jRadioButtonHeight.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
                jRadioButtonHeight.setHorizontalTextPosition(javax.swing.SwingConstants.LEADING);
                jRadioButtonHeight.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                                jRadioButtonHeightActionPerformed(evt);
                        }
                });

                javax.swing.GroupLayout jPanel12Layout = new javax.swing.GroupLayout(jPanel12);
                jPanel12.setLayout(jPanel12Layout);
                jPanel12Layout.setHorizontalGroup(
                        jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel12Layout.createSequentialGroup()
                                .addContainerGap(35, Short.MAX_VALUE)
                                .addComponent(jRadioButtonHeight, javax.swing.GroupLayout.PREFERRED_SIZE, 84, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(14, 14, 14))
                        .addGroup(jPanel12Layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jFormattedTextFieldHeghit, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addContainerGap())
                );
                jPanel12Layout.setVerticalGroup(
                        jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel12Layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jFormattedTextFieldHeghit, javax.swing.GroupLayout.PREFERRED_SIZE, 33, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jRadioButtonHeight)
                                .addContainerGap(27, Short.MAX_VALUE))
                );

                javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
                jPanel3.setLayout(jPanel3Layout);
                jPanel3Layout.setHorizontalGroup(
                        jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel3Layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jPanel11, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jPanel12, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addContainerGap())
                );
                jPanel3Layout.setVerticalGroup(
                        jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel3Layout.createSequentialGroup()
                                .addContainerGap()
                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addGroup(jPanel3Layout.createSequentialGroup()
                                                .addComponent(jPanel12, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                .addGap(0, 0, Short.MAX_VALUE))
                                        .addComponent(jPanel11, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                .addContainerGap())
                );

                javax.swing.GroupLayout jPanel16Layout = new javax.swing.GroupLayout(jPanel16);
                jPanel16.setLayout(jPanel16Layout);
                jPanel16Layout.setHorizontalGroup(
                        jPanel16Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGroup(jPanel16Layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jPanel17, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addContainerGap())
                );
                jPanel16Layout.setVerticalGroup(
                        jPanel16Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel16Layout.createSequentialGroup()
                                .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jPanel17, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                );

                javax.swing.GroupLayout jPanelControlLayout = new javax.swing.GroupLayout(jPanelControl);
                jPanelControl.setLayout(jPanelControlLayout);
                jPanelControlLayout.setHorizontalGroup(
                        jPanelControlLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanelControlLayout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jPanel16, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(jPanel13, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addContainerGap())
                );
                jPanelControlLayout.setVerticalGroup(
                        jPanelControlLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanelControlLayout.createSequentialGroup()
                                .addContainerGap()
                                .addGroup(jPanelControlLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                        .addComponent(jPanel13, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addComponent(jPanel16, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                );

                jPanel10.setBackground(new java.awt.Color(102, 102, 255));

                jPanel19.setBackground(new java.awt.Color(153, 153, 255));
                jPanel19.setBorder(javax.swing.BorderFactory.createEtchedBorder(java.awt.Color.darkGray, java.awt.Color.gray));

                jPanel22.setBackground(new java.awt.Color(153, 153, 255));

                jLabelWrite.setForeground(new java.awt.Color(51, 0, 51));
                jLabelWrite.setText("copyRights Koalium Ltd.2032");

                javax.swing.GroupLayout jPanel22Layout = new javax.swing.GroupLayout(jPanel22);
                jPanel22.setLayout(jPanel22Layout);
                jPanel22Layout.setHorizontalGroup(
                        jPanel22Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel22Layout.createSequentialGroup()
                                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(jLabelWrite, javax.swing.GroupLayout.PREFERRED_SIZE, 245, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addContainerGap())
                );
                jPanel22Layout.setVerticalGroup(
                        jPanel22Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jLabelWrite, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                );

                jPanel23.setBackground(new java.awt.Color(153, 153, 255));

                jLabelStatus.setForeground(new java.awt.Color(51, 0, 51));
                jLabelStatus.setText("not connected yet...");

                javax.swing.GroupLayout jPanel23Layout = new javax.swing.GroupLayout(jPanel23);
                jPanel23.setLayout(jPanel23Layout);
                jPanel23Layout.setHorizontalGroup(
                        jPanel23Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel23Layout.createSequentialGroup()
                                .addComponent(jLabelStatus, javax.swing.GroupLayout.PREFERRED_SIZE, 111, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(0, 0, Short.MAX_VALUE))
                );
                jPanel23Layout.setVerticalGroup(
                        jPanel23Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jLabelStatus, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 26, Short.MAX_VALUE)
                );

                javax.swing.GroupLayout jPanel19Layout = new javax.swing.GroupLayout(jPanel19);
                jPanel19.setLayout(jPanel19Layout);
                jPanel19Layout.setHorizontalGroup(
                        jPanel19Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel19Layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jPanel23, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addGap(184, 184, 184)
                                .addComponent(jPanel22, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addContainerGap())
                );
                jPanel19Layout.setVerticalGroup(
                        jPanel19Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel19Layout.createSequentialGroup()
                                .addGap(0, 0, Short.MAX_VALUE)
                                .addGroup(jPanel19Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                        .addComponent(jPanel23, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addComponent(jPanel22, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                );

                jPanel15.setBackground(new java.awt.Color(153, 153, 255));
                jPanel15.setBorder(javax.swing.BorderFactory.createCompoundBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.LOWERED), javax.swing.BorderFactory.createTitledBorder(null, "log", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Segoe UI", 0, 12), new java.awt.Color(51, 0, 51)))); // NOI18N

                jTextAreaLogs.setEditable(false);
                jTextAreaLogs.setBackground(new java.awt.Color(0, 51, 51));
                jTextAreaLogs.setColumns(20);
                jTextAreaLogs.setFont(new java.awt.Font("Roboto Medium", 0, 12)); // NOI18N
                jTextAreaLogs.setForeground(new java.awt.Color(255, 255, 102));
                jTextAreaLogs.setRows(5);
                jTextAreaLogs.setTabSize(4);
                jTextAreaLogs.setWrapStyleWord(true);
                jTextAreaLogs.setDoubleBuffered(true);
                jTextAreaLogs.setDragEnabled(true);
                jScrollPane1.setViewportView(jTextAreaLogs);

                javax.swing.GroupLayout jPanel15Layout = new javax.swing.GroupLayout(jPanel15);
                jPanel15.setLayout(jPanel15Layout);
                jPanel15Layout.setHorizontalGroup(
                        jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jScrollPane1)
                );
                jPanel15Layout.setVerticalGroup(
                        jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 76, Short.MAX_VALUE)
                );

                javax.swing.GroupLayout jPanel10Layout = new javax.swing.GroupLayout(jPanel10);
                jPanel10.setLayout(jPanel10Layout);
                jPanel10Layout.setHorizontalGroup(
                        jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jPanel19, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGroup(jPanel10Layout.createSequentialGroup()
                                .addComponent(jPanel15, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addContainerGap())
                );
                jPanel10Layout.setVerticalGroup(
                        jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel10Layout.createSequentialGroup()
                                .addComponent(jPanel15, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jPanel19, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                );

                javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
                jPanel1.setLayout(jPanel1Layout);
                jPanel1Layout.setHorizontalGroup(
                        jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel1Layout.createSequentialGroup()
                                .addContainerGap()
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addComponent(jPanel10, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addComponent(jPanelControl, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addGroup(jPanel1Layout.createSequentialGroup()
                                                .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                .addGap(0, 12, Short.MAX_VALUE))))
                );
                jPanel1Layout.setVerticalGroup(
                        jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel1Layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(jPanelControl, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jPanel10, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                );

                menuBar.setBackground(new java.awt.Color(153, 153, 153));
                menuBar.setFont(new java.awt.Font("Segoe UI Black", 0, 12)); // NOI18N

                fileMenu.setMnemonic('f');
                fileMenu.setText("File");

                openMenuItem.setMnemonic('o');
                openMenuItem.setText("Open");
                openMenuItem.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                                openMenuItemActionPerformed(evt);
                        }
                });
                fileMenu.add(openMenuItem);

                saveMenuItem.setMnemonic('s');
                saveMenuItem.setText("Save");
                saveMenuItem.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                                saveMenuItemActionPerformed(evt);
                        }
                });
                fileMenu.add(saveMenuItem);

                saveAsMenuItem.setMnemonic('a');
                saveAsMenuItem.setText("Save As ...");
                saveAsMenuItem.setDisplayedMnemonicIndex(5);
                saveAsMenuItem.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                                saveAsMenuItemActionPerformed(evt);
                        }
                });
                fileMenu.add(saveAsMenuItem);

                exitMenuItem.setMnemonic('x');
                exitMenuItem.setText("Exit");
                exitMenuItem.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                                exitMenuItemActionPerformed(evt);
                        }
                });
                fileMenu.add(exitMenuItem);

                menuBar.add(fileMenu);

                MenuConnect.setMnemonic('c');
                MenuConnect.setText("Connection");

                MenuItemCheckConnection.setMnemonic('h');
                MenuItemCheckConnection.setText("Check");
                MenuItemCheckConnection.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                                MenuItemCheckConnectionActionPerformed(evt);
                        }
                });
                MenuConnect.add(MenuItemCheckConnection);

                MenuItemRefresh.setMnemonic('r');
                MenuItemRefresh.setText("Refresh");
                MenuItemRefresh.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                                MenuItemRefreshActionPerformed(evt);
                        }
                });
                MenuConnect.add(MenuItemRefresh);

                MenuItemConnect.setMnemonic('p');
                MenuItemConnect.setText("Connect");
                MenuItemConnect.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                                MenuItemConnectActionPerformed(evt);
                        }
                });
                MenuConnect.add(MenuItemConnect);

                MenuItemCloseConnection.setMnemonic('c');
                MenuItemCloseConnection.setText("Close");
                MenuItemCloseConnection.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                                MenuItemCloseConnectionActionPerformed(evt);
                        }
                });
                MenuConnect.add(MenuItemCloseConnection);

                menuBar.add(MenuConnect);

                jMenuPorts.setText("Ports");
                menuBar.add(jMenuPorts);

                helpMenu.setMnemonic('h');
                helpMenu.setText("Help");

                contentsMenuItem.setMnemonic('c');
                contentsMenuItem.setText("Contents");
                contentsMenuItem.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                                contentsMenuItemActionPerformed(evt);
                        }
                });
                helpMenu.add(contentsMenuItem);

                aboutMenuItem.setMnemonic('a');
                aboutMenuItem.setText("About");
                aboutMenuItem.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                                aboutMenuItemActionPerformed(evt);
                        }
                });
                helpMenu.add(aboutMenuItem);

                menuBar.add(helpMenu);

                setJMenuBar(menuBar);

                javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
                getContentPane().setLayout(layout);
                layout.setHorizontalGroup(
                        layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(layout.createSequentialGroup()
                                .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addContainerGap())
                );
                layout.setVerticalGroup(
                        layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                );

                pack();
        }// </editor-fold>//GEN-END:initComponents

    private void exitMenuItemActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_exitMenuItemActionPerformed
	    System.exit(0);
    }//GEN-LAST:event_exitMenuItemActionPerformed

        private void jProgressBarJobDoneStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_jProgressBarJobDoneStateChanged
                // TODO add your handling code here:
                jLabelProgressJob.setText(jProgressBarJobDone.getValue()+"");
        }//GEN-LAST:event_jProgressBarJobDoneStateChanged

        private void jScrollBarPwmAdjustmentValueChanged(java.awt.event.AdjustmentEvent evt) {//GEN-FIRST:event_jScrollBarPwmAdjustmentValueChanged
                // TODO add your handling code here:
		scrollPwmChanged = true;
		//serialSend(_pwm_+mduty);
                
                
        }//GEN-LAST:event_jScrollBarPwmAdjustmentValueChanged

        private void MenuItemCheckConnectionActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_MenuItemCheckConnectionActionPerformed
                // TODO add your handling code here:
                reCheckConnection = true;
        }//GEN-LAST:event_MenuItemCheckConnectionActionPerformed

        private void MenuItemRefreshActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_MenuItemRefreshActionPerformed
                // TODO add your handling code here:
		btnPressedRefresh = true;
		
        }//GEN-LAST:event_MenuItemRefreshActionPerformed

        private void MenuItemConnectActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_MenuItemConnectActionPerformed
                // TODO add your handling code here:
		btnPressedConnect = true;
		
		 // TODO add your handling code here:
		// TODO add your handling code here:
		
		

		
		
	
        }//GEN-LAST:event_MenuItemConnectActionPerformed

        private void jFormattedTextFieldPressureActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jFormattedTextFieldPressureActionPerformed
                // TODO add your handling code here:
		rpressure = 100*(int) jFormattedTextFieldPressure.getValue();
		if(rpressure == 0){
			rpressure = rpressureDef;
		}
        }//GEN-LAST:event_jFormattedTextFieldPressureActionPerformed

        private void jFormattedTextFieldHeghitActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jFormattedTextFieldHeghitActionPerformed
                // TODO add your handling code here:
		rheight = 100*(int) jFormattedTextFieldHeghit.getValue();
		if(rheight == 0){
			rheight = rheightDef;
		}
        }//GEN-LAST:event_jFormattedTextFieldHeghitActionPerformed

        private void jButtonRunActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonRunActionPerformed
                // TODO add your handling code here:
		//btnPressedRun = true;
		serialSend(_run_);
        }//GEN-LAST:event_jButtonRunActionPerformed

        private void jButtonStopActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonStopActionPerformed
                // TODO add your handling code here:
		//btnPressedStop = true;
		serialSend(_stp_);
        }//GEN-LAST:event_jButtonStopActionPerformed

        private void jButtonPumpActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonPumpActionPerformed
                // TODO add your handling code here:
		//btnPressedPump = true;
		serialSend(_pwm_+mduty);
		serialSend(_pmp_);
        }//GEN-LAST:event_jButtonPumpActionPerformed

        private void jButtonDrainActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonDrainActionPerformed
                // TODO add your handling code here:
		//btnPressedDrain = true;
		serialSend(_rls_);
        }//GEN-LAST:event_jButtonDrainActionPerformed

        private void jToggleButtonPumpingActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jToggleButtonPumpingActionPerformed
                // TODO add your handling code here:
		btnPressedPumping = true;
        }//GEN-LAST:event_jToggleButtonPumpingActionPerformed

        private void openMenuItemActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_openMenuItemActionPerformed
                // TODO add your handling code here:
		btnPressedOpen = true;
        }//GEN-LAST:event_openMenuItemActionPerformed

        private void saveMenuItemActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_saveMenuItemActionPerformed
                // TODO add your handling code here:
		btnPressedSave = true;
        }//GEN-LAST:event_saveMenuItemActionPerformed

        private void saveAsMenuItemActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_saveAsMenuItemActionPerformed
                // TODO add your handling code here:
		btnPressedSaveAs = true;
        }//GEN-LAST:event_saveAsMenuItemActionPerformed

        private void MenuItemCloseConnectionActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_MenuItemCloseConnectionActionPerformed
                // TODO add your handling code here:
		btnPressedCloseConnection = true;
		
        }//GEN-LAST:event_MenuItemCloseConnectionActionPerformed

        private void contentsMenuItemActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_contentsMenuItemActionPerformed
                // TODO add your handling code here:
		btnPressedContent = true;
        }//GEN-LAST:event_contentsMenuItemActionPerformed

        private void aboutMenuItemActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_aboutMenuItemActionPerformed
                // TODO add your handling code here:
		btnPressedAbout = true;
        }//GEN-LAST:event_aboutMenuItemActionPerformed

        private void jRadioButtonPressureActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jRadioButtonPressureActionPerformed
                // TODO add your handling code here:
		dependPressure = jRadioButtonPressure.isSelected();
		jRadioButtonHeight.setSelected(!jRadioButtonPressure.isSelected());
		
        }//GEN-LAST:event_jRadioButtonPressureActionPerformed

        private void jRadioButtonHeightActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jRadioButtonHeightActionPerformed
                // TODO add your handling code here:
		dependHeight = jRadioButtonHeight.isSelected();
		jRadioButtonPressure.setSelected(!jRadioButtonHeight.isSelected());
        }//GEN-LAST:event_jRadioButtonHeightActionPerformed

        private void jToggleButtonPumpingItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_jToggleButtonPumpingItemStateChanged
                // TODO add your handling code here:
		btnPressedPumping = jToggleButtonPumping.isSelected();
        }//GEN-LAST:event_jToggleButtonPumpingItemStateChanged

        private void jButtonPauseActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonPauseActionPerformed
                // TODO add your handling code here:
		//btnPressedPause = true;
		serialSend(_pus_);
        }//GEN-LAST:event_jButtonPauseActionPerformed

	public JLabel getLabelPressure(){
		return this.jLabelMonitorPressure;
	}
	//
	public JLabel getLabelHeght(){
		return this.jLabelMonitorHeight;
	}
	
	//
	public JLabel getLabelDuty(){
		return this.jLabelMonitorMotorPower;
	}
	
	
	
	public JLabel getLabelWrite(){
		return this.jLabelStatus;
	}
	
	//
	//
	//
	public JFormattedTextField getLabelffheghit(){
		return this.jFormattedTextFieldHeghit;
	}
	//
	//
	public JFormattedTextField getLabelffpressure(){
		return this.jFormattedTextFieldPressure;
	}
	//
	//
	//
	public JProgressBar getjProgressBarJobDone(){
		return this.jProgressBarJobDone;
	}
	//
	//
	public JProgressBar getjProgressBarMonitorMotorPower(){
		return this.jProgressBarMonitorMotorPower;
	}
	//
	//
	public JScrollBar getjScrollBarPwm(){
		return this.jScrollBarPwm;
	}
	//
	//
	public SerialPort getsp(){
		return Formium.sp;
	}
		
	
	
	
	public boolean serialSend(String ss) {
		//return value for whether opening the streams is successful or not
		byte[] bb = {'\n'};
		//BaudRate = Integer.parseInt(formattedTextFieldBaud.getText());
		//sp.setComPortParameters((int) BaudRate, DataBits, StopBits, Parity); // default connection settings for Arduino
		if (sp!=null&&sp.isOpen()) {
			if(ss!=null){
				sp.writeBytes(ss.getBytes(), ss.getBytes().length);
			}
			
			sp.writeBytes(bb, bb.length);
			return true;
		}

		return false;
	}
	//
	public boolean pump_(int pwm){
		
		return serialSend(_pmp_);
	}
	
	public boolean handshake(SerialPort sp){
		sp.setComPortTimeouts(SerialPort.TIMEOUT_NONBLOCKING, 5000, 5000);
		
		return false;
	}
	
	public SerialPort getSerialPort(){
		return sp;
	}
	//
	public void refreshPorts(){
		// TODO add your handling code here:
		// TODO add your handling code here:
		jMenuPorts.removeAll();
		mrdt.clear();
		AvailablePorts = SerialPort.getCommPorts();
		for (SerialPort AvailablePort : AvailablePorts) {
			JRadioButtonMenuItem jrbt = new JRadioButtonMenuItem();
			jrbt.setSelected(false);
			jrbt.setText(AvailablePort.getSystemPortName());
			mrdt.add(jrbt);
			jMenuPorts.add(jrbt);
	
		}
	}
	
	//
	//
	public void connecting(){
		connecting = true;
		if ( mrdt.isEmpty()){
		return;
		}
		
		boolean isit = false;
		for(int i = 0; i <mrdt.size();i++){
			if(((JRadioButtonMenuItem)(mrdt.elementAt(i))).isSelected()){
				//((JRadioButtonMenuItem)mrdt.elementAt(i)).getText();
				writeToLogger("connection...."+((JRadioButtonMenuItem)mrdt.elementAt(i)).getText());
				Formium.sp = SerialPort.getCommPort(((JRadioButtonMenuItem)mrdt.elementAt(i)).getText());
				Formium.sp.openPort(20);
				isit = true;
			}
		}
		
		
		if(!isit){
			writeToLogger("pleasw select port first....");
			return;
		}
		Formium.sp.setComPortParameters( BaudRate, DataBits, StopBits, Parity);
		Formium.sp.setComPortTimeouts(SerialPort.TIMEOUT_READ_SEMI_BLOCKING, 20, 20); 
		repaintbackgroundcolor();
		
		if (sp.isOpen()) {
			writeToLogger(sp.getPortDescription());
			jPanelMonitor.setBackground(new java.awt.Color(102, 102, 255));
			connected = true;
			serialSend(_hi_);
			//canvgf.setColor(getChangeColor(mduty,jScrollBarPwm.getMaximum()));
			//canvgf.fillRect(0, 0, canvasShow.getWidth(), canvasShow.getHeight());
		}
		else {
			
			writeToLogger("connection Failed....");
		}
		
		
		
		
		timi();
	}
	//
	//
	
	

	/**
	 *
	 * @param ws
	 */
	public void writeToLogger(  final String ws){
		//String ss;// = gstr;
		if(ws!=null && ws.length()>0 )
		{
			
		
		if(ws.lastIndexOf('\n')>0){
			jLabelStatus.setText(ws);
			
		}else{
			jLabelStatus.setText(jLabelStatus.getText()+ws);
		}
		
		jTextAreaLogs.append(ws);
		}
		
	}
	//
	private  void eventCommander(){
		if(btnPressedCheck){
			serialSend(_hi_);
			btnPressedCheck=false;
		}
		if(btnPressedConnect && connecting == false&&!connected){
			connecting = true;
			btnPressedConnect=false;
			connecting();
			
			connecting = false;
			
		}
		if(btnPressedRefresh && refreshing == false){
			refreshing = true;
			btnPressedRefresh=false;
			refreshPorts();
			
			refreshing = false;
		}
		if(btnPressedCloseConnection){
			btnPressedCloseConnection=false;
			if(sp!=null && sp.isOpen()){
				sp.closePort();
			}
		}
		//
		//
		if(btnPressedSave){
			btnPressedSave=false;
		}
		if(btnPressedSaveAs){
			btnPressedSaveAs=false;
		}
		if(btnPressedOpen){
			btnPressedOpen=false;
		}
		//
		//
		
		if(scrollPwmChanged && !scrollPwmChanging){
			scrollPwmChanging = true;
			scrollPwmChanged = false;
			mduty = jScrollBarPwm.getValue();
			
			/*canvgf.setColor(getChangeColor(mduty,jScrollBarPwm.getMaximum()));
			canvgf.fillRect(2, 2, canvasShow.getWidth(), canvasShow.getHeight()/4);
			
			canvgf.setColor(Color.black);
			canvgf.fill3DRect(2, 2, canvasShow.getWidth()*jScrollBarPwm.getValue()/100, canvasShow.getHeight()/4, true);*/
			
			jLabelPwm.setText(jScrollBarPwm.getValue()+"");
			//jLabelPwm.setForeground(getChangeColor(mduty,jScrollBarPwm.getMaximum()));
			jScrollBarPwm.setBackground(getChangeColor(mduty,jScrollBarPwm.getMaximum()));
			serialSend(_pwm_+mduty);
			scrollPwmChanging = false;
		}
		
		
		
		if(btnPressedPump){
			btnPressedPump=false;
			pumping = true;
			serialSend(_pmp_);
		}
		if(btnPressedStop){
			btnPressedStop=false;
			serialSend(_stp_);
		}
		if(btnPressedDrain){
			btnPressedDrain = false;
			serialSend(_rls_);
		}
		if(btnPressedPumping){
			btnPressedPumping= jToggleButtonPumping.isSelected();
			serialSend(_pmp_);
		}
		if(btnPressedRun){
			btnPressedRun=false;
			running = true;
			serialSend(_run_);
		}
		if(btnPressedPause){
			btnPressedPause=false;
			running = false;
			serialSend(_pus_);
		}
		//
		//
		if(running){
			if( dependHeight){
				if(fpressure>0){
					mremained = fpressure - rpressure;
					mremained = mremained*100;
					mremained = mremained/fpressure;
				}else
				if(fheight>0){
					mremained = fheight - rheight;
					mremained = mremained*100;
					mremained = mremained/fheight;
				}
			
			}else if (dependPressure){
				if(fheight>0){
					mremained = fheight - rheight;
					mremained = mremained*100;
					mremained = mremained/fheight;
				}else
				if(fpressure>0){
					mremained = fpressure - rpressure;
					mremained = mremained*100;
					mremained = mremained/fpressure;
				}	
			}
			
			jProgressBarJobDone.setValue(mremained);
			jProgressBarMonitorMotorPower.setValue((int) (rduty/2.55));
		}
		if(pumping){
			jProgressBarMonitorMotorPower.setValue((int) (rduty/2.55));
		}
		
		
	}
	//
	private synchronized TimerTask tt(){
		
		timerTask =  new TimerTask() {
			@Override
			public void run() {
				serialReciver();
				doCommander();
				eventCommander();	
				
				monitorGui();
				recivedToUI();
			
			
			}
		};
		return timerTask;
	}

	//
	private  synchronized void timi(){
		timer = new Timer("monitor");
		timer.scheduleAtFixedRate(tt(), 0, 15);
	}
	

	private synchronized void serialReciver(){
		
		if(sp==null){
			return;
			
		}
		
		if(sp.bytesAvailable()>0){
			byte[] spb = new byte[sp.bytesAvailable()];
			sp.readBytes(spb, spb.length);
			for(byte nbsp : spb){
				writeToLogger(String.valueOf((char)(nbsp)));
				if(nbsp=='\n'){
					
					strArray.addLast(bufferChars.substring(0));
					bufferChars = new StringBuffer() ;
				}else{
					bufferChars.append((char)(nbsp));
				}
				
			}
			
		}
		
	}
	
	private  synchronized void doCommander(){
		if(this.strArray== null){
			return;
		}
		if(!strArray.isEmpty()){
			String rs = (String)(strArray.firstElement());
			String rsf3c= "";
			String rsa3c="";
			int ivalue = 0;
			if(rs != null && rs.length()>0){
				rs = rs.trim();
				if(rs.length()>6){
					rsf3c = rs.substring(0,3);
					if(rs.charAt(4)>='0'&&rs.charAt(4)<='9'&&rs.charAt(rs.length()-1)>='0'&&rs.charAt(rs.length()-1)<='9'){
						ivalue = Integer.parseInt(rs.substring(3,rsa3c.length()-1));
						recommanded(rsf3c,ivalue);
					}
					
					
				}else
				if(rs.length()>2){
					rsf3c = rs.substring(0,3);
					recommanded(rsf3c,0);
				
				}
			}
			strArray.remove(0);
			
			
		}
	} 
	
	private synchronized void recommanded(String cmd,int ival){
		if(cmd==null){
			return;
		}
		if(cmd == null ? _pwm_ == null : cmd.equals(_pwm_)){
			rduty = ival;
		}else 
		if(cmd == null ? _prs_ == null : cmd.equals(_prs_)){
			rpressure = ival;
		}if(cmd == null ? _dty_ == null : cmd.equals(_dty_)){
			rduty = ival;
		}else
		if(cmd == null ? _hgt_ == null : cmd.equals(_hgt_)){
			rheight = ival;
		}else
		if(cmd == _vlv_){
			rvalve = ival;
		}else
		if(cmd == _mrl_){
			rmotor = ival;
		}else
		if(cmd == _mod_){
			rmode = ival;
		}else
		if(cmd == _dpd_){
			rdepend = ival;
		}else
		
		if(cmd == null ? _pwm_ == null : cmd.equals(_pwm_)){
			
		}if(cmd == null ? _hi_ == null : cmd.equals(_hi_)){
			handshaked = true;
			serialSend(_hi_);
			writeToLogger("connected"+sp.getPortDescription());
		}
	}
	
	private void recivedToUI(){
		if(connected){
		monitorGui();
		}
		
		
		
	}
	
	private Color getChangeColor(int val,int max){
		int per = 100*(val);
		Color rc = Color.BLACK;
		if(max==0){
			max = 255;
		}
		per = per/max;
		if(per<25){
			rc = Color.cyan;
		}else
		if(per<55){
			rc = Color.GREEN;
		}else
		if(per<75){
			rc = Color.YELLOW;
		}else
		if(per<85){
			rc = Color.ORANGE;
		}else
		if(per<95){
			rc = Color.MAGENTA;
		}else{
			rc = Color.RED;
		}
		
		return rc;
	}
	
	private int getNormalized(int val,int max){
		val = val*100;
		return val/max;
	}
	
	private void monitorGui(){
		jLabelMonitorHeight.setText(rheight+" mm");
		jLabelMonitorPressure.setText(rpressure+" Bar");
		//
		//
		jProgressBarMonitorMotorPower.setValue((int)(rduty/2.55)); 
		//jLabelProgressJob.setText((100-rremained)+" %");
		//
		//
		
		jProgressBarMonitorMotorPower.setValue(getNormalized(rduty,dutyMax));
		jProgressBarMonitorMotorPower.setForeground(getChangeColor(rduty,dutyMax));
		jLabelMonitorMotorPower.setText(""+rduty + " %");
		//jLabelMonitorMotorPower.setForeground(getChangeColor(rduty,dutyMax));
		//
		//
		jPanelMonitorPressure.setBackground(getChangeColor(rpressure,fpressure));
		jPanelMonitorHeghit.setBackground(getChangeColor(rheight,fheight));
		jPanelMonitorMid.setBackground(new java.awt.Color(153, 153, 255));
		
	}
	//
	//

	//
	private void repaintbackgroundcolor(){
		jPanel1.setBackground(new java.awt.Color(153, 153, 255));
                jPanel1.setForeground(new java.awt.Color(204, 204, 255));

                jPanel2.setBackground(new java.awt.Color(204, 204, 255));
                jPanel2.setForeground(new java.awt.Color(153, 204, 255));

                jPanelMonitor.setBackground(new java.awt.Color(153, 153, 255));
		jPanelMonitor.setForeground(new java.awt.Color(153, 153, 255));

                jPanelMonitorPressure.setBackground(new java.awt.Color(153, 153, 255));
		
		jPanelMonitorPressure.setForeground(new java.awt.Color(153, 153, 255));

                jLabelMonitorPressure.setBackground(new java.awt.Color(153, 153, 255));	
		jPanelMonitorHeghit.setBackground(new java.awt.Color(153, 153, 255));
		jPanelMonitorHeghit.setForeground(new java.awt.Color(153, 153, 255));

                jLabelMonitorHeight.setBackground(new java.awt.Color(153, 153, 255));
		
	}
	//
	//
	/*private void liveConnection(){
	if(timerCounterDataTransfer++>timerCounterDataTransferMax){
	}
	}*/
	private StringBuffer bufferChars ;
	
	//
	private boolean btnPressedPump = false;
	private boolean btnPressedDrain = false;
	private boolean btnPressedSave = false;
	private boolean btnPressedCheck = false;
	private boolean btnPressedRun= false;
	private boolean btnPressedStop = false;
	private boolean btnPressedPause = false;
	private boolean btnPressedPumping = false;
	private boolean btnPressedOpen = false;
	private boolean btnPressedContent = false;
	private boolean btnPressedConnect = false;
	private boolean btnPressedRefresh= false;
	private boolean btnPressedAbout = false;
	private boolean btnPressedSaveAs = false;
	private boolean btnPressedCloseConnection = false;
	private boolean scrollPwmChanged = false;
	private boolean ftfchangedPressure = false;
	private boolean ftfchangedHeight = false;
	private boolean scrollPwmChanging = false;
	private boolean handshaked = false;
	private boolean connecting = false;
	private boolean refreshing = false;
	private boolean reCheckConnection = false;
	private boolean connected = false;
	private boolean running = false;
	private boolean pumping = false;
	private boolean jobdone = false;
	private boolean draining = false;
	private boolean checking = false;
	private boolean dependPressure = false;
	private boolean dependHeight = false;
	
	private int serialportavailablecounter = 0;
	private int tryCounterHandshake = 0;
	private int tryCounterConnect = 0;
	private int timerCounterHandshake = 0;
	private int timerCounterConnect = 0;
	//private int timerCounterDataTransfer = 0;
	//final private int timerCounterHandshakeMax = 55;
	//final private int timerCounterDataTransferMax = 40;
	//final private int timerCounterConnectMax = 20;
	//
	static public int BaudRate = 115200;
	static public int DataBits = 8;
	static public int StopBits = SerialPort.ONE_STOP_BIT;
	static public int Parity = SerialPort.NO_PARITY;
	//static public String comportstr = "COM";
	//static public String serialPortNameList[] = {"COM0","COM1"};
	private static SerialPort sp;

	private static SerialPort[] AvailablePorts;
	//
	final int dutyMax = 255;
	final int rpressureDef = 25000;
	final int rheightDef = 1100;
	private int rpressure=0;
	private int rheight=0;
	private int rduty=0;
	private int rmode=0;
	private int rmotor=0;
	private int rvalve=0;
	private int rdepend=0;
	private int rhi =0;
	private int rremained=100;
	private int mpressure=0;
	private int mheight=0;
	private int mduty=0;
	private int mmode=0;
	private int mmotor=0;
	private int mvalve=0;
	private int mdepend=0;
	private int mhi =0;
	private int mremained=0;
	private int fheight =0;
	private int fpressure=0;
	
	String strBufferSerial = "";
	final String _hi_ ="hio";
	final String _pmp_ ="pmp";
	final String _rls_ ="rls";
	final String _inc_ ="inc";
	final String _dec_ ="dec";
	final String _pwm_ ="pwm";
	final String _new_ ="new";
	final String _set_ ="set";
	final String _stp_ ="stp";
	final String _pus_ ="pus";
	final String _run_ ="run";
	final String _prs_ ="prs";
	final String _hgt_ ="hgt";
	final String _fht_ ="fht";
        final String _fpr_ ="fpr";
	final String _mod_ ="mod";
	final String _wrt_ ="wrt";
	final String _rjb_ ="rjb";
	final String _rdd_ ="rdd";
	final String _dty_ ="dty";
	final String _mrl_ ="mrl";
	final String _drl_ ="drl";
	final String _vlv_ ="vlv";
	final String _dpd_ ="dpd";
	final char _EndCapsulationChar_ = '\n';
	final char _StartCapsulationChar_ = '\r';
	
	private boolean capsulStartCharRecived;
	private String recivedStringBuffer;
	private JRadioButtonMenuItem[] PORTiTEMS ;
	private Timer timer ;
	private TimerTask timerTask ;
	private byte bytebuffer[];
	/**
	 *
	 */
	Graphics canvgf ;
	public Vector strArray;
	public Vector mrdt;
	
        // Variables declaration - do not modify//GEN-BEGIN:variables
        private javax.swing.JMenu MenuConnect;
        private javax.swing.JMenuItem MenuItemCheckConnection;
        private javax.swing.JMenuItem MenuItemCloseConnection;
        private javax.swing.JMenuItem MenuItemConnect;
        private javax.swing.JMenuItem MenuItemRefresh;
        private javax.swing.JMenuItem aboutMenuItem;
        private javax.swing.ButtonGroup buttonGroupDepend;
        private javax.swing.JMenuItem contentsMenuItem;
        private javax.swing.JMenuItem exitMenuItem;
        private javax.swing.JMenu fileMenu;
        private javax.swing.JMenu helpMenu;
        private javax.swing.JButton jButtonDrain;
        private javax.swing.JButton jButtonPause;
        private javax.swing.JButton jButtonPump;
        private javax.swing.JButton jButtonRun;
        private javax.swing.JButton jButtonStop;
        private javax.swing.JFormattedTextField jFormattedTextFieldHeghit;
        private javax.swing.JFormattedTextField jFormattedTextFieldPressure;
        private javax.swing.JLabel jLabel1;
        private javax.swing.JLabel jLabelMonitorHeight;
        private javax.swing.JLabel jLabelMonitorMotorPower;
        private javax.swing.JLabel jLabelMonitorPressure;
        private javax.swing.JLabel jLabelProgressJob;
        private javax.swing.JLabel jLabelPwm;
        private javax.swing.JLabel jLabelStatus;
        private javax.swing.JLabel jLabelWrite;
        private javax.swing.JMenu jMenuPorts;
        private javax.swing.JPanel jPanel1;
        private javax.swing.JPanel jPanel10;
        private javax.swing.JPanel jPanel11;
        private javax.swing.JPanel jPanel12;
        private javax.swing.JPanel jPanel13;
        private javax.swing.JPanel jPanel14;
        private javax.swing.JPanel jPanel15;
        private javax.swing.JPanel jPanel16;
        private javax.swing.JPanel jPanel17;
        private javax.swing.JPanel jPanel18;
        private javax.swing.JPanel jPanel19;
        private javax.swing.JPanel jPanel2;
        private javax.swing.JPanel jPanel20;
        private javax.swing.JPanel jPanel21;
        private javax.swing.JPanel jPanel22;
        private javax.swing.JPanel jPanel23;
        private javax.swing.JPanel jPanel3;
        private javax.swing.JPanel jPanel4;
        private javax.swing.JPanel jPanel6;
        private javax.swing.JPanel jPanelControl;
        private javax.swing.JPanel jPanelMonitor;
        private javax.swing.JPanel jPanelMonitorHeghit;
        private javax.swing.JPanel jPanelMonitorMid;
        private javax.swing.JPanel jPanelMonitorMidJob;
        private javax.swing.JPanel jPanelMonitorMidUp;
        private javax.swing.JPanel jPanelMonitorPressure;
        private javax.swing.JPanel jPanelValve;
        private javax.swing.JPopupMenu jPopupMenuPorts;
        private javax.swing.JProgressBar jProgressBarJobDone;
        private javax.swing.JProgressBar jProgressBarMonitorMotorPower;
        private javax.swing.JRadioButton jRadioButtonHeight;
        private javax.swing.JRadioButton jRadioButtonPressure;
        private javax.swing.JScrollBar jScrollBarPwm;
        private javax.swing.JScrollPane jScrollPane1;
        private javax.swing.JTextArea jTextAreaLogs;
        private javax.swing.JToggleButton jToggleButtonPumping;
        private javax.swing.JMenuBar menuBar;
        private javax.swing.JMenuItem openMenuItem;
        private javax.swing.JMenuItem saveAsMenuItem;
        private javax.swing.JMenuItem saveMenuItem;
        // End of variables declaration//GEN-END:variables

}
